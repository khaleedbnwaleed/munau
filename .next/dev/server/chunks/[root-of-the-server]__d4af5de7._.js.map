{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project%20Websites/munau/lib/file-store.ts"],"sourcesContent":["import fs from 'fs/promises'\r\nimport path from 'path'\r\n\r\nconst dataDir = path.join(process.cwd(), 'data')\r\n\r\nexport async function readJsonFile(filename: string) {\r\n  const p = path.join(dataDir, filename)\r\n  try {\r\n    const raw = await fs.readFile(p, 'utf8')\r\n    return JSON.parse(raw)\r\n  } catch (e) {\r\n    return null\r\n  }\r\n}\r\n\r\nexport async function writeJsonFile(filename: string, data: any) {\r\n  const p = path.join(dataDir, filename)\r\n  await fs.mkdir(path.dirname(p), { recursive: true })\r\n  await fs.writeFile(p, JSON.stringify(data, null, 2), 'utf8')\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,UAAU,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAElC,eAAe,aAAa,QAAgB;IACjD,MAAM,IAAI,4GAAI,CAAC,IAAI,CAAC,SAAS;IAC7B,IAAI;QACF,MAAM,MAAM,MAAM,gIAAE,CAAC,QAAQ,CAAC,GAAG;QACjC,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAO,GAAG;QACV,OAAO;IACT;AACF;AAEO,eAAe,cAAc,QAAgB,EAAE,IAAS;IAC7D,MAAM,IAAI,4GAAI,CAAC,IAAI,CAAC,SAAS;IAC7B,MAAM,gIAAE,CAAC,KAAK,CAAC,4GAAI,CAAC,OAAO,CAAC,IAAI;QAAE,WAAW;IAAK;IAClD,MAAM,gIAAE,CAAC,SAAS,CAAC,GAAG,KAAK,SAAS,CAAC,MAAM,MAAM,IAAI;AACvD"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project%20Websites/munau/app/api/lecturer/roster/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport { readJsonFile, writeJsonFile } from '@/lib/file-store'\r\n\r\nconst FILENAME = 'lecturer.json'\r\n\r\nexport async function GET(request: NextRequest) {\r\n  const url = new URL(request.url)\r\n  const courseId = url.searchParams.get('courseId')\r\n  const data = (await readJsonFile(FILENAME)) || { courses: [], rosters: {} }\r\n  const courses = data.courses || []\r\n  const roster = courseId ? data.rosters[courseId] || [] : []\r\n  return NextResponse.json({ success: true, courses, roster })\r\n}\r\n\r\nexport async function PATCH(request: NextRequest) {\r\n  const body = await request.json()\r\n  const { courseId, studentId, grade } = body\r\n  const data = (await readJsonFile(FILENAME)) || { courses: [], rosters: {} }\r\n  if (!data.rosters || !data.rosters[courseId]) {\r\n    return NextResponse.json({ error: 'Not found' }, { status: 404 })\r\n  }\r\n  const roster = data.rosters[courseId]\r\n  const idx = roster.findIndex((s: any) => s.id === studentId)\r\n  if (idx === -1) return NextResponse.json({ error: 'Student not found' }, { status: 404 })\r\n  roster[idx].grade = grade\r\n  await writeJsonFile(FILENAME, data)\r\n  return NextResponse.json({ success: true, data: roster[idx] })\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,WAAW;AAEV,eAAe,IAAI,OAAoB;IAC5C,MAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;IAC/B,MAAM,WAAW,IAAI,YAAY,CAAC,GAAG,CAAC;IACtC,MAAM,OAAO,AAAC,MAAM,IAAA,sIAAY,EAAC,aAAc;QAAE,SAAS,EAAE;QAAE,SAAS,CAAC;IAAE;IAC1E,MAAM,UAAU,KAAK,OAAO,IAAI,EAAE;IAClC,MAAM,SAAS,WAAW,KAAK,OAAO,CAAC,SAAS,IAAI,EAAE,GAAG,EAAE;IAC3D,OAAO,gRAAY,CAAC,IAAI,CAAC;QAAE,SAAS;QAAM;QAAS;IAAO;AAC5D;AAEO,eAAe,MAAM,OAAoB;IAC9C,MAAM,OAAO,MAAM,QAAQ,IAAI;IAC/B,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG;IACvC,MAAM,OAAO,AAAC,MAAM,IAAA,sIAAY,EAAC,aAAc;QAAE,SAAS,EAAE;QAAE,SAAS,CAAC;IAAE;IAC1E,IAAI,CAAC,KAAK,OAAO,IAAI,CAAC,KAAK,OAAO,CAAC,SAAS,EAAE;QAC5C,OAAO,gRAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAY,GAAG;YAAE,QAAQ;QAAI;IACjE;IACA,MAAM,SAAS,KAAK,OAAO,CAAC,SAAS;IACrC,MAAM,MAAM,OAAO,SAAS,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK;IAClD,IAAI,QAAQ,CAAC,GAAG,OAAO,gRAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAoB,GAAG;QAAE,QAAQ;IAAI;IACvF,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG;IACpB,MAAM,IAAA,uIAAa,EAAC,UAAU;IAC9B,OAAO,gRAAY,CAAC,IAAI,CAAC;QAAE,SAAS;QAAM,MAAM,MAAM,CAAC,IAAI;IAAC;AAC9D"}}]
}