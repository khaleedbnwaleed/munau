module.exports=[64781,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored["react-ssr"].ReactJsxRuntime},72146,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored["react-ssr"].ReactServerDOMTurbopackClient},59947,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored["react-ssr"].ReactDOM},23228,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(91578),e=a.i(30505),f=a.i(40695),g=a.i(3130);function h(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)({}),[k,l]=(0,c.useState)(!0);(0,c.useEffect)(()=>{!async function(){l(!0);try{let a=await fetch("/api/admin/finance"),b=await a.json();h(b.data||[]),j(b.summary||{})}catch(a){console.error("[v0] load finance failed",a)}finally{l(!1)}}()},[]);let m=async b=>{let c=Number(prompt("Payment amount")||"0");if(!c)return;let d=await fetch("/api/admin/finance",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b,paidAmount:c})});if(d.ok){let c=await d.json();h(a=>a.map(a=>a.id===b?c.data:a));let e=a.reduce((a,d)=>a+(d.id===b?c.data.outstanding:d.outstanding),0);j(a=>({...a,totalOutstanding:e}))}else alert("Failed to apply payment")};return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("header",{className:"bg-white border-b border-border sticky top-0 z-40",children:(0,b.jsx)("div",{className:"flex items-center justify-between h-16 px-6",children:(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)(e.default,{href:"/admin/dashboard",className:"flex items-center gap-2",children:[(0,b.jsx)(d.default,{src:"/logo.png",alt:"Munau",width:36,height:36}),(0,b.jsx)("span",{className:"font-bold",children:"Admin - Finance"})]})})})}),(0,b.jsxs)("main",{className:"p-6 max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Finance"}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{children:["Total Outstanding: ₦",i.totalOutstanding??0]}),(0,b.jsxs)("div",{children:["Total Due: ₦",i.totalDue??0]})]})]}),(0,b.jsx)(g.Card,{className:"p-6",children:k?(0,b.jsx)("div",{children:"Loading..."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-border",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4",children:"Student ID"}),(0,b.jsx)("th",{className:"text-left py-3 px-4",children:"Description"}),(0,b.jsx)("th",{className:"text-left py-3 px-4",children:"Amount"}),(0,b.jsx)("th",{className:"text-left py-3 px-4",children:"Paid"}),(0,b.jsx)("th",{className:"text-left py-3 px-4",children:"Outstanding"}),(0,b.jsx)("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:a.map(a=>(0,b.jsxs)("tr",{className:"border-b border-border hover:bg-secondary/50",children:[(0,b.jsx)("td",{className:"py-3 px-4",children:a.studentId}),(0,b.jsx)("td",{className:"py-3 px-4",children:a.description}),(0,b.jsxs)("td",{className:"py-3 px-4",children:["₦",a.amount]}),(0,b.jsxs)("td",{className:"py-3 px-4",children:["₦",a.paid]}),(0,b.jsxs)("td",{className:"py-3 px-4",children:["₦",a.outstanding]}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsx)("div",{className:"flex gap-2 justify-end",children:(0,b.jsx)(f.Button,{size:"sm",onClick:()=>m(a.id),children:"Apply Payment"})})})]},a.id))})]})})})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=_200c46a1._.js.map